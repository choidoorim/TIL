모든 자바 클래스를 다 컴포넌트 스캔하면 시간이 오래 걸린다. 그래서 꼭 필요한 위치부터 탐색하도록 시작 위치를 지정할 수 있다.

```java
@Configuration  
@ComponentScan(  
        basePackages = "hello.core"
)  
public class AutoAppConfig {
```

`basePackages` 옵션은 탐색할 패키지의 시작 위치를 지정할 수 있다. 해당 패키지를 포함해서 하위 패키지를 모두 탐색한다. `basePackages = {"hello.core", "hello.service"}` 처럼 여러 시작 위치를 지정할 수도 있다.    
만약 지정하지 않는다면 `@ComponentScan` 이 붙은 설정 정보 클래스의 패키지가 시작 위치가 된다.    
권장하는 방법으로는 설정 정보 클래스의 위치를 프로젝트 최상단에 두는 것이다.

```
- 프로젝트 구조
com.hello
com.hello.service
com.hello.repository
```

만약 위와 같은 구조라면 `com.hello` 프로젝트 시작 루트에 AppConfig 와 같은 메인 설정 정보를 두고 `@ComponentScan` 을 붙이고, `basePackages` 지정은 생략한다.

참고로 스프링부트를 사용하면 스프링 부트의 대표 시작정보인   `@SpringBootApplication`  를 이 프로젝트 시작 루트위치에 두는 것이 관례이다. 그리고 이 설정안에 바로 `@ComponentScan` 이 들어있다.

<img width="313" alt="스크린샷 2022-10-06 오후 10 52 37" src="https://user-images.githubusercontent.com/63203480/194331102-734d0fc4-924c-4489-918a-dc6ce71da2b5.png">

### 컴포넌트 스캔 기본 대상
컴포넌트 스캔은 `@Component` 뿐만 아니라 아래의 내용도 추가로 대상에 포함한다.
- `@Component` : 컴포넌트 스캔에서 사용
- `@Controller`: 스프링 MVC 컨트롤러에서 사용
- `@Service`: 스프링 비즈니스 로직에서 사용
- `@Repository`: 스프링 데이터 접근 계층에서 사용
- `@Configuration`: 스프링 설정 정보에서 사용

<img width="244" alt="스크린샷 2022-10-06 오후 10 58 24" src="https://user-images.githubusercontent.com/63203480/194332793-bb9e9031-d112-457d-a7a0-8518408f7bc4.png">
<img width="229" alt="스크린샷 2022-10-06 오후 10 58 55" src="https://user-images.githubusercontent.com/63203480/194332798-e53ee07b-2791-4870-bb0a-fe86d024f6b6.png">
<img width="249" alt="스크린샷 2022-10-06 오후 10 59 24" src="https://user-images.githubusercontent.com/63203480/194332801-922c8100-3409-431e-b923-b916943df891.png">

사실 **에노테이션은 상속관계가 없다**. 에노테이션이 특정 에노테이션을 들고 있는 것을 인식할 수 있는 것은 자바가 아닌 스프링이 지원하기 때문이다.

- 에노테이션은 메타정보이다.

컴포넌트 스캔의 용도 뿐만 아니라 아래 에노테이션은 스프링이 부가 기능을 수행한다.
- `@Controller`: 스프링 MVC 컨트롤러로 인식
- `@Service`: 해당 에노테이션은 **특별한 기능을 처리하지 않고**, 개발자들이 핵심 비즈니스 로직이 해당 클래스에 존재하겠구나 라고 **비즈니스 계층을 인식하는데 도움**이 된다.
- `@Repository`: 스프링 데이터 접근 계층으로 인식하고, 데이터 계층의 예외를 스프링 예외로 변환해준다.
- `@Configuration`: 스프링 설정 정보로 인식하고, 스프링 빈이 싱글톤을 유지하도록 추가 처리를 한다.

그리고 `useDefaultFilters` 옵션은 기본으로 켜져있는데, 이 옵션을 끄게되면 **기본 스캔 대상들이 제외**된다. 주로 사용하지는 않는다.
