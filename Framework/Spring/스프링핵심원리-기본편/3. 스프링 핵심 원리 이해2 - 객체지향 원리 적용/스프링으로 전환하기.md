Bean 어노테이션을 붙여준다면 스프링 컨테이너에 등록이 된다. 등록이 될 때 Key 는 메서드명이고, value 는 객체 인스턴스로 해서 등록이 되는 것이다.

```java
@Configuration
public class AppConfig {  
    @Bean  
    public MemberRepository memberRepository() {  
        return new MemoryMemberRepository();  
    }  
    @Bean  
    public MemberService memberService() {  
        return new MemberServiceImpl(memberRepository());  
    }  
  
    @Bean  
    public @NotNull DiscountPolicy discountPolicy() {  
//        return new FixDiscountPolicy();  
        return new RateDiscountPolicy();  
    }  
    @Bean  
    public OrderService orderService() {  
        return new OrderServiceImpl(memberRepository(), discountPolicy());  
    }  
}
```

스프링은 모든것이 ApplicationContext 에서 시작한다. ApplicationContext 이 스프링 컨테이너라고 생각하면 된다.    
그리고 @ 라는 어노테이션을 기반으로 설정하고 있다면 AnnotationConfigApplicationContext 객체를 생성해야 한다.
```java
ApplicationContext applicationContext = new AnnotationConfigApplicationContext(AppConfig.class);

MemberService memberService = applicationContext.getBean("memberService", MemberService.class);
```

그리고 @Configuration 을 붙힌 클래스를 넣어주면 스프링 컨테이너가 알아서 @Bean 이 붙은 것들을 생성하고 관리해준다.     
객체를 찾을 때는 applicationContext.getBean() 을 사용한다. 기본적으로 name 은 @Bean 이 붙어져있는 메서드명을 따른다.    
그 다음 인자에는 반환할 타입 클래스를 지정해주면 된다.

```java
@Bean  
public MemberService memberService() {
```

## 스프링 컨테이너
- ApplicationContext 를 스프링 컨테이너라고 한다.
- 기존에는 AppConfig 를 사용해서 직접 객체를 생성하고 DI 를 했지만, 이제부터는 스프링 컨테이너를 통해서 사용한다.
- 스프링 컨테이너는 @Configuration 이 붙은 AppConfig 를 설정(구성) 정보로 사용한다. 여기서 @Bean 이라 적힌 메서드를 모두 호출해서 반환된 객체를 스프링 컨테이너에 등록한다.
- @Bean(name = "") 처럼 사용해서 직접 커스텀 네임을 붙여 사용할 수도 있다.
```java
@Bean(name = "test")  
public MemberService memberService() {  
    return new MemberServiceImpl(memberRepository());  
}
//...

ApplicationContext applicationContext = new AnnotationConfigApplicationContext(AppConfig.class);  
MemberService memberService = applicationContext.getBean("test", MemberService.class);
```
- 이전에는 개발자가 직접 자바 코드로 모든 것을 했다면 이제부터는 스프링 컨테이너에 객체를 스프링 빈으로 등록하고, **스프링 컨테이너에서 스프링 빈을 찾아서 사용하도록 변경**된 것이다.
- 빈을 찾기 위해서는 applicationContext.getBean() 을 통해 찾을 수 있다.