기존에는 정책 할인 정책을 정률(%) 할인 정책으로 바꾸기 위해서는 클라이언트 코드가 변경되기에 영향을 미쳤다.

```java
public class OrderServiceImpl implements OrderService {  
	// private final DiscountPolicy discountPolicy = new FixDiscountPolicy();
	private final DiscountPolicy discountPolicy = new RateDiscountPolicy();
```

하지만 AppConfig 가 등장하면서 우리는 AppConfig 만 수정한다면 할인 정책을 정률(%) 할인 정책으로 변경할 수 있다.

```java
public class AppConfig {  
    private MemberRepository memberRepository() {  
        return new MemoryMemberRepository();  
    }  
    public MemberService memberService() {  
        return new MemberServiceImpl(memberRepository());  
    }  
  
    private DiscountPolicy discountPolicy() {  
        return new FixDiscountPolicy();  
    }  
    public OrderService orderService() {  
        return new OrderServiceImpl(memberRepository(), discountPolicy());  
    }  
}
```

단순히 FixDiscountPolicy 를 RateDiscountPolicy 로만 변경해주면 해결된다.

```java
private DiscountPolicy discountPolicy() {  
	return new RateDiscountPolicy();  
}  
```
```java
public class OrderServiceImpl implements OrderService {  
	// private final DiscountPolicy discountPolicy = new FixDiscountPolicy();
	private final MemberRepository memberRepository;  
	private final DiscountPolicy discountPolicy;  
	
	public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {  
		this.memberRepository = memberRepository;  
		this.discountPolicy = discountPolicy;  
	}
```
