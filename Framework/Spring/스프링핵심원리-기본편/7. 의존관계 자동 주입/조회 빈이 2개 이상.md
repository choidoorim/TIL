# 조회 빈이 2개 이상 - 문제

`@Autowired` 는 기본적으로 타입으로 조회한다.
```java
@Component  
public class OrderServiceImpl implements OrderService {  
    private final MemberRepository memberRepository;  
    private final DiscountPolicy discountPolicy;  

    @Autowired  
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {  
        this.memberRepository = memberRepository;  
        this.discountPolicy = discountPolicy;  
    }
```
의존성을 주입할 때 `DiscountPolicy` 라는 타입을 찾아서 주입을 하게 된다. 다음 코드와 유사하게 동작한다.
```java
ac.getBean(DiscountPolicy.class)
```

만약 빈을 2개 등록한다면 아래와 같은 오류 메시지를 확인할 수 있다.
```
NoUniqueBeanDefinitionException: expected single matching bean but found 2: fixDiscountPolicy,rateDiscountPolicy
```
빈을 1개를 기대했지만, 2개를 찾았다는 뜻이다.    
이때 하위 타입으로 지정할 수 도 있지만, 하위 타입으로 지정하는 것은 DIP(역할에 의존해야지 구체적인 것에 의존하면 안된다) 에 위반되며, 유연성이 떨어지게 된다.    
스프링 빈을 수동으로 등록해서 문제를 해결할 수 있지만, 의존관계 자동 주입에서 해결하는 여러 방법이 있다.
