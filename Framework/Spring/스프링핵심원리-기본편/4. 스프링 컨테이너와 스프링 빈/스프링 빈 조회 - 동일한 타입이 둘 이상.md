- 타입으로 조회 시 같은 타입의 스프링 빈이 둘 이상일 경우 스프링이 어떤 것을 선택해야 할지 모르기 때문에 오류가 발생한다. 이 때 빈 이름을 지정하면 된다.
- `ac.getBeansOfType()` 을 사용하면 해당 타입의 모든 빈을 조회할 수 있다.

```java
public class ApplicationContextSameBeanFindTest {  
    AnnotationConfigApplicationContext ac = new AnnotationConfigApplicationContext(SameBeanConfig.class);  
  
    @Test  
    @DisplayName("타입으로 조회 시 같은 타입이 둘 이상 있으면, 중복 오류가 발생한다")  
    void findBeanTypeDuplicate() {  
        assertThrows(NoUniqueBeanDefinitionException.class, () -> ac.getBean(MemberRepository.class));  
    }  
  
    @Test  
    @DisplayName("타입으로 조회 시 같은 타입이 둘 이상 있으면, 빈 이름을 지정하면 된다")  
    void findBeanByName() {  
        MemberRepository memberRepository = ac.getBean("memberRepository1", MemberRepository.class);  
        assertThat(memberRepository).isInstanceOf(MemberRepository.class);  
    }  
  
    @Test  
    @DisplayName("특정 타입을 모두 조회하기")  
    void findAllBeanByType() {  
        Map<String, MemberRepository> beansOfType = ac.getBeansOfType(MemberRepository.class);  
        for (String key: beansOfType.keySet()) {  
            System.out.println("key = " + key + " value " + beansOfType.get(key));  
        }  
        System.out.println("beansOfType = " + beansOfType);  
        assertThat(beansOfType.size()).isEqualTo(2);  
    }  
  
    @Configuration  
    static class SameBeanConfig {  
        @Bean  
        public MemberRepository memberRepository1() {  
            return new MemoryMemberRepository();  
        }  
  
        @Bean  
        public MemberRepository memberRepository2() {  
            return new MemoryMemberRepository();  
        }  
    }  
}
```

- 만약 타입으로 조회 시 같은 타입이 둘 이상일 경우, 빈 이름과 타입 `ac.getBean(빈이름, 타입)`  을 지정해주면 된다.