### 스프링 컨테이너 생성
```java
ApplicationContext applicationContext = new AnnotationConfigApplicationContext(AppConfig.class);
```
- ApplicationContext 를 스프링 컨테이너라고 한다.
- ApplicationContext 는 인터페이스이다.
- 기존에 AppConfig 를 만들어서 사용했던 것이 **어노테이션 기반의 자바 설정 클래스로 스프링 컨테이너**를 만든 것이다.
- applicationContext 는 ApplicationContext 인터페이스의 구현체이다.

##### 1. 스프링 컨테이너 생성
- 스프링 컨테이너를 생성할 때는 구성 정보를 지정해줘야 한다.
- 여기서는 AppConfig.class 를 구성 정보로 지정했다.

##### 2. 스프링 빈 등록
- Bean 어노테이션이 지정된 것을 호출해서 빈 이름을 메서드명, 빈 객체를 return 해주는 객체로 등록해준다.
```
	빈 이름      |      빈 객체
memberService       MemberServiceImpl@x01
orderService        OrderServiceImpl@x02
...
```
- 스프링 컨테이너는 파라미터로 넘어온 설정 클래스 정보를 사용해서 스프링 빈을 등록한다.
- 빈 이름은 어노테이션에 직접 커스텀할 수도 있다.
- **빈 이름은 항상 다른 이름을 부여**해야 한다. 같은 이름을 부여하면, 다른 빈이 무시되거나, 기존 빈을 덮어버리거나 설정에 따라 오류가 발생한다.
##### 3. 스프링 빈 의존관계 설정 - 준비
##### 4. 스프링 빈 의존관계 설정 - 완료
- 스프링 컨테이너는 설정 정보를 참고해서 의존관계를 주입(DI) 한다.
- 단순히 자바 코드를 호출하는 것처럼 보이지만 차이가 있다. - 싱글톤 패턴
- **스프링은 빈을 생성하고, 의존관계를 주입하는 단계가 나눠져있다**. 스프링 빈을 생성하고 연관관계를 엮어주는 것이다.


```java
void findApplicationBean() {  
    String[] beanDefinitionNames = applicationContext.getBeanDefinitionNames();  
    for (String beanDefinitionName : beanDefinitionNames) {  
        BeanDefinition beanDefinition = applicationContext.getBeanDefinition(beanDefinitionName);  
  
        // ROLE_APPLICATION : 직접 등록한 어플리케이션 빈  
        // ROLE_INFRASTRUCTURE: 스프링이 내부에서 사용하는 빈  
        if (beanDefinition.getRole() == BeanDefinition.ROLE_APPLICATION) {  
            Object bean = applicationContext.getBean(beanDefinitionName);  
            System.out.println("name = " + beanDefinitionName + " object = " + bean);  
        }  
    }  
}
```

- ROLE_APPLICATION : 직접 등록한 어플리케이션 빈
- ROLE_INFRASTRUCTURE: 스프링이 내부에서 사용하는 빈

위와 같은 코드로 확인해보면 생성된 빈을 확인할 수 있다.
```
// log..
name = appConfig object = hello.core.AppConfig$$EnhancerBySpringCGLIB$$e9b74e74@5117dd67
name = memberRepository object = hello.core.member.MemoryMemberRepository@5be49b60
name = memberService object = hello.core.member.MemberServiceImpl@2931522b
name = discountPolicy object = hello.core.discount.RateDiscountPolicy@7674b62c
name = orderService object = hello.core.order.OrderServiceImpl@19e7a160
```
