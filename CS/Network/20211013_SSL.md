## SSL (Secure Socket Layer)
> **SSL 이란?**

Netscape사에서 웹 서버와 웹 브라우저 사이의 보안을 위해 만들어진 보안 소켓 레이어로 클라이언트와 서버간에 데이터를 주고 받을 때 정보를 암호화 해주는 방식입니다.

현재 SSL 은 보안 소켓 레이어가 표준화 되면서 TLS(Transport Sockets Layer) 이라는 명칭으로 바뀌어 사용되고 있기에 SSL 과 TLS 은 현재 동일한 의미로 사용되고 있다고 보면 됩니다.

> **HTTP 와 HTTPS**

접속하는 도메인 주소를 보면 맨 앞에 **http, https** 가 적혀 있는 것을 확인하실 수 있습니다. 이것은 바로 해당 프로토콜을 통해 통신을 할 것이라는 뜻입니다.

**1\. HTTP**

HTTP는 Hypertext Transfer Protocol의 약자로 서버와 클라이언트 간 데이터를 주고 받기 위한 프로토콜로 80번 포트를 사용합니다.

* 프로토콜 : 통신 시 사용하는 규약/규칙

하지만 HTTP는 암호화 되지 않는 데이터를 주고 받기 때문에 ID, PW, 주민등록번호 등 개인정보들을 주고 받게 된다면 제 3자가 정보들을 조회할 수 있기 때문에 보안에 매우 취약합니다.

이러한 HTTP의 단점을 해결하기 위해 HTTPS가 등장하게 되었습니다.

![1](https://user-images.githubusercontent.com/63203480/137091614-9739c468-4bae-43c6-83a9-e6b05a443933.png)

**2\. HTTPS**

HyperText Transfer Protocol over Secure Socket Layer, HTTP over TLS, HTTP over SSL, HTTP Secure 등으로 불리고 있는 HTTP프로토콜의 보안 버전입니다.


HTTP에 SSL 이라는 암호화 기술이 추가된 프로토콜로 80번 포트가 아닌 433번 포트를 사용합니다.

Application Layer 와 Transport Layer 사이에 SSL/TLS Layer 가 추가되어 통신할 때 암호화하여 통신할 수 있게 합니다.

이렇게 HTTPS를 사용할 경우 제 3자가 데이터를 확인해도 해석이 불가능하게 됩니다.

HTTP에 SSL 을 적용하기 위해서는 SSL 인증서를 도메인에 적용시켜 인증을 받아야 'https:// ~' 라는 주소를 가지고 HTTPS 프로토콜이 사용 가능하게 됩니다.

SSL 인증서 발급기관을 유/무료 등 여러 개가 있는데, 대표적으로는 무료 기관에는 Let's Encrypt가 있다.

![2](https://user-images.githubusercontent.com/63203480/137091619-f34d4af6-85f9-4dab-b8a7-a4a131ae173f.png)

**2-1. 공개키/개인키**

SSL 은 현재**공개키암호화 방식과 대칭키 암호화 방식을 함께 사용**하여 데이터를 암호화하고 있습니다.

공개키는 모두에게 공개가능 한 키, 개인 키는 나만 가지고 있는 키로 공개키로 암호화를 했을 경우 반드시 개인키로만 복호화를 할 수 있으며, 개인키로 암호화 했을 경우 반드시 공개키로만 복호화 할 수 있습니다.

**공개키 암호화 방식**: 공개키로 암호화 한 데이터는 개인키로만 복호화를 할 수 있습니다. 개인키를 지닌 사람만 데이터를 확인 할 수 있기 때문에 보안이 중요한 경우에 사용합니다.

**개인키 암호화 방식**: 개인키로 암호화 한 데이터는 공개키로만 복호화를 할 수 있습니다. 공개 키는 모두에게 공개되어 있기 때문에, 내가 인증한 정보임을 알려 신뢰성 보장이 필요한 경우에 사용합니다.

**2-2. 대칭키**

동일한 키로 암호화, 복호화가 가능합니다.

대칭키는 매번 랜덤으로 생성되어 누출되더라도 다음 사용 시 다른 키가 사용되기 때문에 안전합니다.

그리고 공개 키 보다 빠르게 통신이 가능하다는 장점이 있습니다.

이러한 SSL 방식을 적용하기 위해서는 인증서를 발급받아 서버에 적용시켜야 합니다.

인증서를 발급하는 기관을 CA(Certificate Authority)라고 하며 인증서는 사용자가 서버에 접속할 때 의도가 맞는지 보장해주는 역할을 수행합니다.

> **동작 과정**

1.  웹 서버는 공개키와 개인키를 만들어 신뢰할 수 있는 **인증 기관(CA)에 자신의 정보와 공개 키를 관리해달라는 계약을 진행**합니다.
2.  계약이 완료되면 **인증 기관은 기관만의 공개키와 개인키**를 가지게 됩니다. 인증 기관은 웹 서버가 제출한 데이터들을 검증하고, 인증 기관의 개인키로 **웹 서버에서 제출한 정보를 암호화해서 인증서를 만들어 제공**합니다.
3.  인증 기관은 **웹 브라우저에게 자신이 가지고 있는 공개키를 제공**합니다.
4.  사용자가 웹 서버에 접속을 하게 되면 웹 서버는 자신이 가지고 있는 **인증서를 사용자에게 보냅니다**.
5.  사용자는 '**3번' 에서 제공 받은 공개키로 인증서를 해독하여 검증**을 합니다. 이렇게 된다면 사용자는 웹 서버의 공개키를 알 수 있게 됩니다.
6.  사용자는 서버의 공개 키를 통해 **대칭키를 암호화해서 다시 웹 서버**에 보냅니다.
7.  웹 서버는 개인키로 암호문을 해독하여 대칭키를 가지게 되고, **사용자와 웹 서버는 대칭 키를 통해 데이터를 주고 받을 수 있게** 되는 것입니다. 이 대칭키는 **세션이 종료될 경우 없어집니다**.

> **HTTPS의 특징**

-   웹 사이트의 무결성을 보호해줍니다. 웹 서버와 사용자 간 통신을 주고 받을 때 제 3자가 데이터에 접근하는 것을 막아줍니다.
-   단순한 정보 조회만을 처리하고 있다면 HTTP를 이용해도 상관 없지만, 대부분 그렇지 않기 때문에 HTTPS는 현재 반드시 필요한 프로토콜입니다.
-   구글, 네이버, 다음 등 검색 엔진의 상위에 노출되는 기준 중 하나도 보안요소입니다.
-   HTTPS는 설치 및 인증서를 유지하는데 추가 비용이 발생하거나, 무료일 경우 인증 기간이 짧아 자주 재발급을 해줘야 합니다.
-   HTTP에 비해서 하는 일이 많다보니 속도가 비교적 느리지만, 현재는 거의 비슷할 정도라고 합니다.
-   인증 중 인터넷의 연결이 끊긴 경우 재인증 시간이 소요됩니다.
