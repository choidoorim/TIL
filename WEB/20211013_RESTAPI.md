# REST API 란?
## **1. 웹 API**

Application Programming Interface 으로  운영체제나 프로그래밍 언어를 응용프로그램에서 제어할 수 있도록 도와주는 인터페이스(ex. 휴대폰의 버튼) 이다.

쉽게 설명하자면, **서버와 클라이언트가** **Request(요청)과 Response(응답)을 통해 통신할 수 있도록 해주는 것**이다.

![1](https://user-images.githubusercontent.com/63203480/137093304-24e2e4d4-f52b-450c-88ae-28483406d389.png)

예를 들면 앱에 회원가입을 한다고 가정해보자.

사용자가 아이디와 비밀번호등을 입력 후 회원가입 버튼을 누르면 입력된 정보를 API 를 통해 서버에 보내주게 되고,

(Request)

서버는 API를 통해 받은 정보를 토대로 회원가입이 성공했는지 실패했는지에 대한 것을 사용자에게 알려준다.

(Response)

그렇다면 REST API란 뭘까?

## 2. REST API

### 2-1.REST  

월드 와이드 웹과 같은 분산 하이퍼시스템을 위한 소프트웨어 아키텍처의 한 종류이며, **Re**presentational **S**tate **T**ransfer의 약자로 대표적인 상태를 전달한다는 의미이다.

즉, 리소스(자원)를 이름, 명칭으로 구분하여 해당 리소스의 상태(=정보)를 주고 받는 것으로 클라이언트와 서버가 통신하는 방식 중 하나이다.

- 리소스: 문서, 그림, 데이터등 소프트웨어가 관리하는 모든 것

> REST 구성요소

1. **자원(Resource)**: 모든 리소스에는 고유한 ID가 존재하고, 해당 리소스는 Server에 존재한다. 리소스를 구별하는 것은 ‘/users/:userId’와 같은 HTTP URI 다. 클라이언트는 URI를 통해 리소스를 정하고, 서버에게 정보를 요청한다.  
2. **행위(Verb)**: HTTP Methods라는 HTTP 프로토콜을 통해 통신하기 위한 방법중 하나를 사용한다.

HTTP 프로토콜은 **GET(조회), POST(생성), PUT(수정), PATCH(수정), DELETE(삭제)** 등의 메서드를 제공해준다.  
**표현**: 서버와 클라이언트가 대표적으로 JSON, XML등의 여러 형태로 데이터를 주고 받는다.

### 2-2. REST 의 제한 조건

**1\. 클라이언트 - 서버 구조**

클라이언트와 서버를 분리시켜 독립적으로 개선하며 서로의 의존성을 줄일 수 있도록 한다.

**2\. 무상태(Stateless)**

클라이언트의 Context 를 서버에 저장시키지 않는다. 즉 세션, 쿠키와 같은 Context 정보를 서버에 저장시키지 않아도 된다는 뜻이다. 그리고 서버는 클라이언트의 API요청을 별개로 인지하고 처리하여 서버 처리방식에 일관성을 부여하고 서비스의 자유도를 높일 수 있게 해야한다.

**3\. 캐시 처리 가능(Cacheable)**

HTTP 프로토콜을 그대로 사용하여 HTTP 프로토콜의 장점인 캐싱 기능을 적용할 수 있다.

**4\. 계층화(Layered System)**

보통 클라이언트는 어떤 방식으로 서버에 연결되어 있는지 알 수가 없다. 따라서 PROXY, 게이트웨이 같은 중간 서버를 두고 로드밸런싱이나 공유캐시 기능을 통해 확장성 있게 시스템을 구현해야 한다.

**5\. Code on demand**

반드시 지켜야할 제한 조건은 아니며, 클라이언트가 서버로부터 JavaApplet, Javascript 스크립트를 전달받아 기능을 확장시키는 것이다.

**6\. 인터페이스의 일관성**

URI로 지정한 리소스에 균일하고, 통일 된 인터페이스를 제공해야 한다는 것으로 언어에 제한적이지 않고 HTTP프토토콜에 따르는 모든 어플리케이션에서 사용이 가능하다.

즉, **REST API란 위의 REST를 모두 지키며 API를 구현**하는 것을 말한다.


## **3\. REST API의 설계 시 주의 사항**

HTTP Method 를 별개의 기능으로 보고, URI 를 통해 어떤 API 인지 알 수 있게 API 를 설계하는 것이 중요하다.

만약 API 를 마음대로 구성할 경우 기능적인 문제는 없지만, 가독성이 떨어지며 재사용성이 줄어들고 유지보수가

힘들어지는 단점이 있다.

1. 슬래시(/)를 통해 계층 관계를 표현. ex)users/friends


2. URI 를 구성할 때는 동사보다는 **명사**를 사용하고, 여러 데이터를 조회하기에 **복수형**으로 사용(ex. GET app/users/1 -> 1번유저에 대한 정보들을 가져오기).  
만약 동사형으로 구성할 경우 의미가 겹쳐 불 필요한 단어가 들어갈 수도 있기 때문이다.(ex. POST app/add/users -> add의 추가한다는 의미와 post의 생성한다는 의미가 중복).


3. 밑줄(\_)보다는 **하이픈(-)**을 사용하여 가독성을 높임.


4. URI 경로는 대문자보다는 소문자로 시작하여 사용. ex) app/users/friendsRFC 3986(URI 문법 형식)은 URI 스키마와 호스트를 제외하고는 대소문자를 구별하도록 규정하기 때문이다.


5. 파일확장자는 URI 에 포함하지 않음.  
REST API에서는 메시지 바디 내용의 포맷을 나타내기 위한 파일 확장자를 URI 안에 포함시키지 않기에 Accept Header를 사용한다.


6. 리소스 간 소유관계가 있을 경우.
/리소스명/{리소스 ID}/관계 있는 리소스명 - ex) users/1/devices