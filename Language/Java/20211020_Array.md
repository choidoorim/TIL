# 배열(Array)
## 1. 배열(Array)
### 1.1 배열(Array) 이란?
**같은 타입**의 여러 변수를 하나의 묶음으로 다루는 것을 **배열(Array)** 라고 한다. 

```
int[] score = new int[5];
```

위의 코드에서 값을 저장할 수 있는 공간은 score[0] ~ score[4] 까지 모두 5 개이며, 
**변수 score 는 배열을 다루는데 필요한 참조변수**일 뿐, 값을 저장하기 위한 공간은 아니다.
변수와 달리 배열은 각 저장공간이 연속적으로 배치되어 있다는 특징이 있다.

### 1.2 배열의 선언과 생성
배열을 생성하는 방법은 원하는 타입의 변수를 선언하고 변수 또는 타입에 배열임을 의미하는 대괄호[] 를 붙이면 된다.

- ```타입[] 변수이름;``` 
- ```타입 변수이름[];```

#### 배열의 생성
배열을 선언해줬으면 배열을 생성해야 한다. 배열을 선언하는 것은 단지 생성된 배열을 다루기 위한 참조변수 공간이 만들어질 뿐이고, 
배열을 생성해야만 비로소 값을 저장할 수 있는 공간이 만들어지는 것이다. 배열이 생성되면 각 배열요소는 자동적으로 기본 값(default) 로 초기화 한다.    
배열을 생성하기 위해서는 연산자 'new' 와 함께 배열의 타입과 길이를 지정해줘야 한다.

```
타입[] 변수이름;
변수이름 = new 타입[길이];
```

아래의 코드는 길이가 5 인 int 배열을 생성한다.

```java
int[] score;
score = new int[5];
```

대부분은 아래와 같이 배열의 선언과 동시에 생성을 한다.

```java
타입[] 변수이름 = new 타입[길이];
int[] score = new int[5];
```

#### 단계별 배열의 선언과 생성 과정
1. int 형 배열 **참조 변수 score 를 선언**한다. 데이터를 저장할 수 있는 공간은 아직 마련되지 않았다.
```
int[] score;
```
2. 연산자 'new' 에 의해서 메모리의 빈 공간에 5 개의 int 형 데이터를 저장할 수 있는 공간이 마련된다. 
```
score = new int[5];
```
대입 연산자 '=' 에 의해 **배열의 주소가 int 형 배열 참조 변수 score 에 저장**된다.


### 1.3 배열의 길이와 인덱스
생성된 배열의 각 저장공간을 **배열의 요소(element)** 라고 하며, '배열이름[인덱스]' 형식으로 배열의 요소에 접근한다. 
**인덱스(index)는 배열의 요소마다 붙여진 일련번호**로 각 요소를 구별하는데 사용된다. index 는 1이 아닌 0 부터 시작한다.   

배열의 값을 저장하고 읽어오는 방법은 변수와 같다. 단지 변수이름 대신 '배열이름[인덱스]' 를 사용한다는 점만 다르다.   

```java
score[3] = 100;
int value = score[3];
```

배열을 다룰 때 한가지 주의할 점은 index 의 범위를 벗어난 값을 index 로 사용하지 않아야 한다.    
유효한 범위를 벗어난 값을 index 로 사용하는 것은 배열을 다룰 때 하는 가장 흔한 실수이다. 그러나 컴파일러는 이러한 실수를 걸러주지 못한다.
왜냐하면 배열의 index 로 변수를 많이 사용하는데, **변수의 값은 실행 시에 대입**되므로 컴파일러는 이 값의 범위를 확인할 수 없다.    
무사히 컴파일을 마쳤더라도 실행 시에 에러(ArrayIndexOutOfBoundsException) 가 발생한다.

#### 배열의 길이
배열의 길이는 배열의 요소의 개수, 즉 값을 저장할 수 있는 공간의 개수이다. 길이는 최대 int 타입의 최대 값인 약 20억이다.    
그런데 **길이가 0인 배열도 생성이 가능**하다. 프로그래밍을 하다보면 길이가 0인 배열이 필요한 상황이 있고 나름 유용하다.    

#### 배열이름.length
자바에서는 JVM 이 모든 배열의 길이를 별도로 관리하며, **'배열이름.length'** 를 통해서 배열의 길이에 대한 정보를 얻을 수 있다.

```java
int[] arr = new int[5];
System.out.println(arr.length);
```

배열은 한번 생성하면 길이를 변경할 수 없기 때문에, 이미 생성된 배열의 길이는 변하지 않기에 '배열.length' 는 값을 읽을 수만 있을 뿐 변경하지 못하는 상수이다.   

```java
int[] arr = new int[5];
arr.length = 10;   // Error
```

for 문의 조건식에 배열의 길이를 직접 적어주는 것보다 '배열이름.length' 를 사용하는 것이 좋다.

```java
int[] arr = new int[5];
for (int i = 0; i < arr.length; i++) {
    System.out.println(arr[i]);
}
```

#### 배열의 길이 변경하기
배열은 한번 선언되고 나면 길이를 변경할 수 없다고 배웠는데, 그렇다면 배열에 저장할 공간이 부족한 경우에는 어떻게 해야할까?
이 때는 더 큰 길이의 새로운 배열을 생성한 다음, 기존의 배열에 저장된 값들을 새로운 배열에 복사하면 된다.    
이러한 작업들은 꽤나 비용이 많이 들기 때문에, 처음부터 배열의 길이를 넉넉하게 잡아줘서 새로 배열을 생성해야하는 상황이 가능한 적게 발생하도록 해야 한다.
그렇다고 너무 크게 잡으면 메모리 낭비가 발생하기에 기존에 2배가 적당하다.

### 1.4 배열의 초기화
배열은 생성과 동시에 자동적으로 자신의 타입에 해당하는 기본 값으로 초기화되므로 배열을 사용하기 전에 따로 초기화를 해주지 않아도 되지만, 원하는 값을 저장하려면
각 요소마다 값을 지정해줘야 한다.    
자바에서는 아래와 같이 배열을 간단히 초기화 할 수 있는 방법을 제공한다.

```java
int[] arr = new int[]{10, 20, 30, 40, 50};
```

저장할 값들을 괄호{} 안에 쉼표로 구분해서 나열하면 되며, **괄호{} 안의 값의 개수에 의해 배열의 길이가 자동으로 결정**된다.     
그리고 괄호{} 안에 아무 것도 넣지 않으면, 길이가 0 인 배열이 생성된다. 아래 3 문장은 모두 길이가 0 인 배열을 생성한다.

```java
int[] arr1 = new int[]{};
int[] arr2 = new int[0];
int[] arr3 = {};
```

#### 배열의 출력
간단한 방법으로는 'Arrays.toString(배열이름)' 메서드를 사용하는 것이다. 배열의 모든 요소를 '[첫번째 요소, 두번째요소,...]' 와 같은 형식의 문자열로 만들어서 반환한다.

```java
int[] arr1 = {10, 20, 30, 40, 50};
System.out.println(Arrays.toString(arr1));
```

예외적으로 char 배열은 ```println()``` 메서드로 출력하면 각 요소가 구분자없이 그대로 출력되는데, 
이것은 println 메서드가 char 배열일 때만 이렇게 동작하도록 작성되었기 때문이다.

```java
char[] arr1 = {'a', 'b', 'c', 'd'};
System.out.println(arr1);   // abcd 출력
```

### 1.5 배열의 복사
배열은 한번 생성하면 그 길이를 변경할 수 없기 때문에 더 많은 저장공간이 필요하다면 큰 배열을 새로 만들어 복사를 해야 한다.   
배열 복사 방법은 for 문을 이용하는 방법과 ```System.arraycopy()``` 메서드를 이용하는 방법이 있다.

#### 1. for 문     

```java
package com.study;
import java.util.*;

public class Main {

    public static void main(String[] args) {
        int[] arr1 = new int[5];
        for (int i = 0; i < arr1.length; i++) {
            arr1[i] = i + 1;    // [1, 2, 3, 4, 5]
        }

        int[] arr2 = new int[arr1.length * 2];
        for (int i = 0; i < arr1.length; i++) {
            arr2[i] = arr1[i];  // arr1[i] 의 값들을 arr2[i] 에 저장
        }

        arr1 = arr2;    // 참조변수 arr1 이 새로운 배열 arr2 를 가리키도록 한다.
        System.out.println(Arrays.toString(arr1));  // [1, 2, 3, 4, 5, 0, 0, 0, 0, 0]
    }
}
```

#### 2. System.arraycopy()

for 문 대신 **System 클래스의 ```arraycopy()``` 를 사용하면 보다 간단하고 빠르게 배열을 복사**할 수 있다.
for 문은 배열의 요소 하나하나에 접근해서 복사하지만, ```arraycopy()``` 는 지정된 범위의 값들을 한 번에 통째로 복사한다.    
   
```arraycopy()``` 를 호출할 때는 어느 배열의 몇 번째 요소에서 어느 배열로 몇 번째 요소로 몇 개의 값을 복사할 것인지를 지정해줘야 한다.

```
System.arraycopy(num, 0, newNum, 0, num.length);  -> num[0] 에서 newNum[0] 으로 num.length 개의 데이터를 복사한다.
```

```java
package com.study;

public class ArrayEx3 {
    public static void main(String[] args) {
        char[] arr1 = {'A', 'B', 'C', 'D', 'E'};
        char[] arr2 = {'0', '1', '2', '3', '4'};

        // arr1 과 arr2 를 붙여서 result 배열을 만든다.
        char[] result = new char[arr1.length + arr2.length];
        System.arraycopy(arr1, 0, result, 0, arr1.length);
        System.arraycopy(arr2, 0, result, arr1.length, arr2.length);
        System.out.println(result);
    }
}

```

### 1.6 배열의 활용

#### 1. 총합과 평균

```java
package com.study;

public class ArrayEx5 {
    public static void main(String[] args) {
        int sum = 0;
        float avg = 0f;

        int[] score = {100, 88, 100, 100, 90};

        for (int i = 0; i < score.length; i++) {
            sum += score[i];
        }

        avg = sum / (float)score.length;

        System.out.println(sum);
        System.out.println(avg);

    }
}
```

#### 2. 최대값과 최소값

```java
package com.study;

public class ArrayEx6 {
    public static void main(String[] args) {
        int[] score = {79, 88, 91, 33, 100, 55, 95};

        int max = score[0];
        int min = score[0];

        for (int i=1; i < score.length; i++) {
            if (score[i] > max) {
                max = score[i];
            }
            else if (min > score[i]) {
                min = score[i];
            }
        }

        System.out.printf("max: %d, min: %d", max, min);

    }
}
```

#### 3. 섞기

```java
package com.study;

import java.util.Arrays;

public class ArrayEx7 {
    public static void main(String[] args) {
        int[] numArr = new int[]{0, 1, 2, 3, 4, 5, 6, 7, 8, 9};

        for (int i = 0; i < numArr.length; i++) {
            int n = (int)(Math.random() * 10);
            int tmp = numArr[0];
            numArr[0] = numArr[n];
            numArr[n] = tmp;
        }

        System.out.println(Arrays.toString(numArr));

    }
}
```

#### 4. 