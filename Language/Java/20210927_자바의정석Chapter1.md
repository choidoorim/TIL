# 자바를 시작하기 전에
## 1. 자바
### 1.1 자바란?
자바는 썬 마이크로시스템즈에서 개발하여 1996년 1월에 공식적으로 발표한 객체지향 프로그래밍 언어이다. 자바의 중요한 특징은 바로 운영체제에 독립적이라는 것이다. 자바로 작성된 프로그램은 운영체제의 종류에 관계없이 실행이 가능하기 때문에 
운영체제에 따라 프로그램을 전혀 변경하지 않고도 실행이 가능하다.    
자바는 풍부한 클래스 라이브러리(Java API)를 통해 프로그래밍에 필요한 요소들을 기본적으로 제공하기 때문에 프로그래머는 단순히 이 클래스 라이브러리만을 잘 활용해도
강력한 기능의 자바 프로그램을 작성할 수 있다.

### 1.2 자바의 역사
1991년에 썬의 엔지니어들에 의해서 고안된 Oak(오크)라는 언어에서부터 시작되었다.   
Oak 는 처음에는 C++ 의 장점을 도입하여 가전제품이나 PDA 와 같은 소형기기에 사용될 목적이였으나, 인터넷이 등장하여 인터넷에 적합하도록
개발 방향을 바꾸면서 자바로 이름을 변경하고 1996년 1월에 정식 버전을 발표했다.   
서버쪽 프로그래밍을 위한 서블릿(Servlet)과 JSP(Java Server Pages)를 통해 정적 웹페이지에 다양한 요소들을 제공할 수 있다.   
구글의 스마트폰 운영체제인 안드로이드에서도 Java 를 사용한다. 

### 1.3 자바언어의 특징
기존 다른 언어에는 없는 많은 장점들을 가지고 있다.
1. 운영체제에 독립적이다.  
   - 기존의 언어는 한 운영체제에 맞게 개발된 프로그램을 다른 종류의 운영체제에 적용하기 위해서 많은 노력이 필요하지만, 자바에서는 그러지 않아도 된다.
   왜냐하면 자바 응용프로그램이 운영체제나 하드웨어가 아닌 JVM 과 통신하고 JVM 이 자바 응용프로그램으로부터 전달받은 명령을 운영체제가 이해할 수 있도록
   변환하여 전달한다.즉, 자바 프로그램은 운영체제에 독립적이지만, JVM 은 운영체제에 종속적이어서 여러 운영체제에 설치할 수 있는 
   서보 다른 버전의 JVM 을 제공하고 있다.
     

2. 객체지향언어이다.
   - 객체지향개념의 특징인 상속, 캡슐화, 다형성이 잘 적용된 언어이다.
   

3. 비교적 배우기 쉽다.
   - 연산자와 기본구문은 C++ 에서, 객체지향관련 구문은 스몰톡이라는 객체지향언어에서 가져왔기 때문에 이 언어들의 장점은 취하면서 
   복잡하고 불필요한 부분은 과감히 제거하여 단순화함으로서 쉽게 배울 수 있으며 간결하고 이해하기 쉬운 코드를 작성할 수 있도록 하였다.
     

4. 자동 메모리 관리(가비지 컬렉션)
   - 자바로 작성된 프로그램이 실행되면, 가비지 컬렉터가 자동적으로 메모리를 관리해주기 때문에 프로그래머는 메모리를 따로 관리하지 않아도 된다.
   이로서 사용하지 않는 메모리를 체크하고 반환하는 일을 수동적으로 처리할 필요 없이, 프로그래머가 프로그래밍에 집중할 수 있도록 도와준다.
     

5. 네트워크 분산처리를 지원한다.
   - 인터넷과 대규모 분산환경을 염두하여 개발했기에 풍부하고 다양한 네트워크 프로그래밍 라이브러리를 통해 비교적 짧은 시간에
   네트워크 관련 프로그램을 쉽게 개발할 수 있도록 지원한다.
     

6. 멀티쓰레드를 지원한다.
   - 일반적으로 멀티쓰레드의 지원은 사용되는 운영체제에 따라 구현방법도 다르고, 처리방식도 다르다.
   그러나 자바에서의 멀티쓰레드 프로그램은 시스템과는 관계없이 구현 가능하며, 관련된 라이브러리가 제공되므로 구현이 쉽다.
   그리고 여러 쓰레드에 대한 스케쥴링을 자바 인터프리터가 담당하게 된다.
     

7. 동적 로딩을 지원한다.
   - 자바는 동적 로딩을 지원하기 때문에 실행 시에 모든 클래스가 로딩되지 않고 필요한 시점에 클래스를 로딩하여 사용할 수 있다는 장점이 있다.
   그 외에도 일부 클래스가 변경되어도 전체 어플리케이션을 다시 컴파일하지 않아도 되며, 변경 사항이 있더라도 비교적 적은 작업만으로도 
   처리할 수 있는 유연한 어플리케이션을 작성할 수 있다.
     
### 1.4 JVM(Java Virtual Machine)
JVM 은 Java virtual machine 을 줄인 것으로 자바를 실행하기 위한 가상 기계(컴퓨터)라고 할 수 있다.
가상 컴퓨터는 실제 하드웨어가 아닌 소프트웨어로 구현된 컴퓨터라는 뜻으로 컴퓨터 속의 컴퓨터라고 생각하면 된다.   

자바로 작성된 모든 어플리케이션이 JVM 에서만 실행되기 때문에, 자바 어플리케이션이 실행되기 위해서는 반드시 JVM 이 필요하다.   

![1](https://user-images.githubusercontent.com/63203480/135015761-f23b8d9a-279f-41cc-a3b7-d635a490ee87.png)  
사진 출처: https://cheershennah.tistory.com/9   

일반 어플리케이션의 코드는 OS 만 거치고 하드웨어로 전달되지만 Java 어플리케이션은 JVM 을 한 번더 거치기 때문에, 그리고 하드웨어에 맞게 완전히
컴파일된 상태가 아니고 실행 시에 해석되기 때문에 속도가 느리다는 단점이 있다.

그러나 요즘에는 컴파일된 자바코드(바이트코드)를 하드웨어의 기계어로 바로 변환해주는 JIT 컴파일러와 향상된 최적화 기술이 적용되어서
속도의 격차가 많이 줄어들었다.   

위의 그림과 같이 **일반 어플리케이션은 OS 에 종속적**이다. 하지만 Java 어플리케이션은 JVM 하고만 상호작용을 하기 때문에
**OS 와 하드웨어에 독립적**이라 다른 OS 에서도 프로그램의 변경없이 실행이 가능하다.
단, JVM 이 OS 에 종속적이기 때문에 해당 OS 에서 실행가능한 JVM 이 필요하다.    

그래서 썬에서는 일반적으로 많이 사용되는 **주요 OS 용 JVM 을 제공**하고 있고, 따라서 자바의 중요한 장점 중의 하나인
"Write once, run anywhere(한 번 작성하면 어디서든 실행된다.)"이 가능하게 되는 것이다.

## 2. 자바 개발환경 구축하기
### 2.1 자바 개발도구(JDK) 설치하기
자바 프로그래밍을 하기 위해서는 먼저 JDK(Java Development kit)를 설치해야 한다.
JDK 의 설치가 끝났으면 설치된 디렉토리의 bin 디렉토리를 path 에 추가해줘야 한다. path 는 OS 가 파일의 위치를 파악하는데 사용하는 경로로,
path 에 디렉토리를 등록하면, 해당 디렉토리에 포함된 파일을 파일 경로없이 파일 이름만으로도 사용할 수 있게 된다.   
JDK 의 bin 디렉토리에 있는 주요 실행파일들은 아래와 같다.
- javac.exe : 자바 **컴파일러**, 자바소스를 바이트코드로 컴파일한다. 
   * 바이트코드 : JVM 이 이해할 수 있는 기계어
   

- java.exe : 자바 **인터프리터**, 컴파일러가 생성한 바이트코드를 해석하고 실행한다. 
  

- javap.exe : **역어셈블러**, 컴파일된 클래스 파일을 원래의 소스로 변환한다.


위와 같이 하면 Hello.class 파일이 역컴파일되어 Hello.java 에 저장된다. 그러나 원래의 소스 전체가 아닌 선언부만 저장될 뿐이다. '-c' 옵션을 이용하면, 
  바이트코드로 컴파일된 내용도 볼 수 있다.

- javadoc.exe : 자동문서 생성기, 소스파일에 있는 주석을 이용하여 Java API 문서와 같은 형식의 문서를 자동으로 생성한다.

- jar.exe : 압축 프로그램, 클래스 파일과 프로그램의 실행에 관련된 파일을 하나의 jar 파일(.jar)로 압축하거나 압축해제한다.

### 2.2 Java API 문서 설치하기
자바에서 제공하는 클래스 라이브러리(Java API)를 잘 사용하기 위해서는 JAVA API 문서가 필수적이다. 모든 API 를 공부할 필요는 없고,
자주 사용되는 것만 공부한 다음 나머지는 영어사전처럼 필요할 때 찾아서 사용하면 된다.    
'http://java.sun.com/' 이서 다운받을 수 있다.

## 3. 자바로 프로그램작성하기
### 3.1 Hello.java
```java
class Hello {

    public static void main(String[] args) {
	// write your code here
        System.out.println("Hello java");
    }
}
```
위의 예제는 Hello, java 를 출력하는 아주 간단한 프로그램이다. 클래스의 이름은 java 파일과 대소문자까지 정확히 같아야 한다.   
예제를 실행하기 위해서는 먼저 자바컴파일러(javac.exe)를 사용해서 소스파일(Hello.java)로부터 클래스파일(Hello.class)을 생성해야한다. 그 다음에 자바 인터프리터(java.exe)로 실행한다.

```Hello.java 작성 -> (javac.exe,컴파일) -> Hello.class 생성 -> (java.exe,실행) -> "Hello java" 출력```

자바에서 **모든 코드는 반드시 클래스 안에 존재** 해야 하며, 서로 관련된 코드들을 그룹으로 나누어 별도의 클래스를 구성하게 된다.
그리고 이 클래스들이 모여 하나의 Java 어플리케이션을 이룬다.   

#### 클래스 작성 방법
키워드 'class' 다음에 클래스의 이름을 적고, 클래스의 시작과 끝을 의미하는 괄호{} 안에 코드를 넣으면 된다.
```java
class 클래스이름 {
    /*
            주석을 제외한 모든 코드는 클래스 블럭{} 내에 작성해야 한다. package 문, import 문 제외
     */
}
```
main 메서드의 선언부는 프로그램을 실행할 때 'java.exe' 에 의해 호출될 수 있도록 미리 약속된 부분이므로 항상 똑같이 적어야 한다.
```java
class 클래스이름 {
    public static void main(String[] args) // main 메서드의 선언부
    {
        // 실행될 문장들을 적는다.
    }
}
```
```String[] args``` : String 타입의 배열 args 를 선언한 것. 'String args[]' 와 같은 의미로 쓸 수 있다.   

main 메서드의 선언부 다음에 나오는 괄호 {}는 메서드의 시작과 끝을 의미하며, 이 괄호 사이에 작업할 내용을 작성해 넣으면 된다. 
Java 어플리케이션은 main 메서드의 호출로 시작해서 main 메서드의 첫 문장부터 마지막 문장까지 수행을 마치면 종료된다.   

모든 클래스가 main 메서드를 가지고 있어야 하는 것은 아니지만, 하나의 Java 어플리케이션에는 main 메서드를 포함한 클래스가 반드시 하나는 있어야 한다.
main 메서드는 Java 어플리케이션의 시작점이므로 main 메서드 없이는 Java 어플리케이션은 실행될 수 없기 때문이다. 작성된 Java 어플리케이션을
실행할 때는 'java.exe' 다음에 main 메서드를 포함한 클래스의 이름을 적어줘야 한다.   

하나의 소스파일에 하나의 클래스만을 정의하는 것이 보통이지만, 하나의 소스파일에 둘 이상의 클래스를 정의하는 것도 가능하다.
이 때, 주의해야할 점은 **소스파일의 이름은 public class 의 이름과 일치해야 한다.** 만약 public class 가 없다면, 소스파일의 이름은
소스파일 내의 어떤 클래스의 이름으로 해도 상관 없다. 또한 **하나의 소스파일에 둘 이상의 public class 가 존재하면 안된다.**   

소스파일(*.java) 파일과 달리 클래스파일(*.class)은 클래스마다 하나씩 만들어지므로 아래와 같이 2개의 클래스가 있을 경우 두 개의 클래스 파일이 생성된다.
```java
class Hello2{ }
class Hello3{ }
```

### 3.2 자주 발생하는 에러와 해결방법
1. cannot find symbol 또는 cannot resolve symbol
- 지정된 변수나 메서드를 찾을 수 없다는 뜻으로 **선언되지 않는 변수나 메서드를 사용하거나, 변수 또는 메서드의 이름을 잘못 사용한 경우**에 발생한다.

2. ';' expected
- 세미콜론(;)이 필요한 곳에 없다는 뜻이다. 자바의 모든 문장의 끝에는 ';' 을 붙여주어야 한다.

3. Exception in thread "main" java.lang.NoSuchMethodError: main
- 'main 메서드를 찾을 수 없다' 는 뜻인데 실제로 클래스 내에 main 메서드가 존재하지 않거나 메서드의 선언부에 오타가
존재하는 경우에 발생한다.   
  이 에러의 해결방법은 main 메서드가 클래스에 정의되어 있는지 확인하고, 정의되어 있다면 main 메서드의 선언부에 오타가 없는지 확인한다.
  자바는 대소문자를 구별하므로 대소문자의 일치여부까지 정확히 확인해야 한다.   
  - args 는 매개변수의 이름이므로 args 대신 argv 나 arg 와 같이 다른 이름을 사용할 수 있다.
   
4. Exception in thread "main" java.lang.NoClassDefFoundError: Hello
- 'Hello 라는 클래스를 찾을 수 없다' 는 뜻이다. 클래스 'Hello' 의 철차, 특히 대소문자를 확인해보고 이상이 없을 경우 클래스파일(*.class)이 생성되었는지 확인한다.   
예를 들면 'Hello.java' 가 정상적으로 컴파일 되었다면 클래스파일 'Hello.class' 가 있어야 한다.
  클래스파일이 존재하는데도 동일한 메시지가 반복해서 나타난다면 클래스패스(classpath) 의 설정이 바르게 되었는지 확인해보자.
  
5. illegal start of expression
- 직역하면 문장(또는 수식)의 앞부분이 문법에 맞지 않는다는 의미인데, 간단히 말해서 문장에 문법적 오류가 있다는 뜻이다.
괄호('(', '{') 를 열고서 닫지 않거나, 수식이나 if 문, for 문 등에 문법적 오류가 있을 때 또는 public 이나 static 과 같은 키워드를
  잘못 사용한 경우에도 발생한다. 에러가 발생한 곳이 문법적으로 옳은지 확인하라.
  
6. class interface, or enum expected
- 이 메시지의 의미는 '키워드 class 나 interface 또는 enum 이 없다.' 이지만, 보통 괄호 '{', '}' 의 개수가 일치하지 않는 경우에 발생한다.
열린 괄호('{') 와 닫힌 괄호('}')의 개수가 같은지 확인하자.
  
#### 에러가 발생했을 때, 어떻게 해결해야 좋을까?
1. 에러 메시지를 잘 읽고 해당 부분의 코드를 살펴본다. 이상이 없으면 해당코드의 주위(위,아래 줄)도 함께 살펴본다.
   

2. 그래도 이상이 없으면 에러 메시지는 잊어버리고 기본적인 부분을 재확인한다. 대부분의 에러는 사소한 것인 경우가 많다.
   

3. 의심이 가는 부분을 주석처리하거나 따로 떼어내서 테스트 한다.

### 3.3 자바프로그램의 실행과정
1. 프로그램의 실행에 필요한 클래스파일(*.class)을 로드한다.
   

2. 클래스파일의 형식이나, 악성코드를 체크하여 검사한다.
   

3. 지정된 클래스에서 main 메서드(String args[])를 호출한다.   


main 메서드의 첫 줄부터 코드가 실행되기 시작하여 마지막 코드까지 모두 실행되면 프로그램이 종료되고, 프로그램에 사용했던 자원들은 
모두 반환된다.

### 3.4 주석(comment)
작성하는 프로그램의 크기가 커질수록 프로그램을 이해하고, 남의 코드를 이해한다는 것은 정말 쉬운 일이 아니다. 이러한 어려움을 덜기 위해 사용하는 것이 바로 주석이다.   

#### 주석 작성방법
1. 범위 주석
   ```/*``` 와 ```*/``` 사이의 내용은 주석으로 간주된다.
   

2. 한 줄 주석
   ```//```부터 라인 끝까지의 내용은 주석으로 간주된다.
   
   
컴파일러는 주석을 무시하고 건너뛰기 때문에 주석이 많다고 해서 프로그램의 성능이 떨어지는 일은 없으니 안심하고 주석을 적극적으로
활용해야 한다.

