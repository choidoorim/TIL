# 8-1. 장치 컨트롤러와 장치 드라이버

## 장치 컨트롤러
![Kontroler_scsi_isa](https://github.com/choidoorim/programing-books/assets/63203480/75100288-432d-4019-ac5e-ce6490fd76b9)

- 메모리나 CPU 보다 입출력 장치가 다루기 더 까다롭다. 그 이유는 아래와 같다.
    1. 종류(키보드, 모니터, USB, CD-ROM 등)가 너무 많다. 장치마다 속도, 데이터 전송 형식 등도 다양하다. 그리고 장치 별로 정보를 주고 받는 방식을 규격화하기가 어렵다.
    2. CPU 와 메모리의 데이터 전송률(데이터를 얼마나 빨리 교환할 수 있는가)은 높지만 입출력 장치는 데이터 전송률이 낮다.
- 이렇게 다루기 어렵기 때문에 입출력 장치들은 컴퓨터에 직접 연결하지 않고 장치 컨트롤러(device controller) 라는 하드웨어를 통해 연결된다(장치 컨트롤러 = 입출력 제어기 = 입출력 모듈).
- 장치 컨트롤러는 CPU 와 입출력 장치 간의 통신을 중개해준다. 각각 다른 언어를 해석해주는 번역기와 같은 것이다. 그리고 오류 검출과 데이터 버퍼링을 한다.
- 데이터 버퍼링은 장치간 전송률이 맞지 않을 때 주고 받는 데이터를 버퍼라는 임시 저장 공간에 저장하여 한 꺼번에 내보내거나, 조금씩 내보내면서 **전송률을 비슷하게 맞추는 방법**이다.
- 장치 컨트롤러 내부에는 데이터 레지스터, 상태 레지스터, 제어 레지스터 3가지가 있다.
    - 데이터 레지스터: CPU 와 입출력 장치간 주고 받을 데이터가 담기는 레지스터이다. 버퍼링 역할을 한다.
    - 상태 레지스터: 입출력 작업이 준비되었는지, 완료되었는지, 오류는 없는지 등의 상태 정보가 저장된다.
    - 제어 레지스터: 입출력 장치가 수행할 내용에 대한 제어 정보와 명령을 저장한다.

## 장치 드라이버

- 장치 컨트롤러의 동작을 감지하고 제어해서 장치 컨트롤러가 컴퓨터 내부와 정보를 주고받을 수 있게 해주는 프로그램이다. 프로그램이기 때문에 당연히 실행 과정에서 메모리에 저장된다.
- 보통은 장치 드라이버를 인식하고 실행하는 주체는 운영체제(윈도우, 맥 등)이다. 장치 드라이버를 따로 제공하는 경우 입출력 장치는 해당 드라이버를 직접 설치해야만 사용이 가능하다.
