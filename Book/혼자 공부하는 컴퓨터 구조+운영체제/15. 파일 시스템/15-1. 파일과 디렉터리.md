# 15-1. 파일과 디렉터리

## 파일

- 파일이란 하드 디스크나 SSD 와 같은 보조기억장치에 저장된 관련 정보의 집합이다.
- 파일은 크게 이름, 파일을 실행하기 위한 정보, 파일 관련 부가 정보가 있다. 그리고 이 부가 정보를 속성 또는 메타 데이터라고 한다.

### 파일 속성과 유형

- 파일을 아래와 같은 속성 종류를 가지고 있다.
    - 유형: 운영체제가 인지하는 파일의 종류
    - 크기: 허용 가능한 최대 크기
    - 보호: 해당 파일을 어떤 사용자가 읽고, 쓰고, 실행할 수 있는지
    - 생성 날짜
    - 마지막 접근 날짜
    - 마지막 수정 날짜
    - 생성자
    - 소유자
    - 위치: 보조기억장치 상의 현재 위치
- 파일 유형은 운영체제가 인식하는 파일의 종류를 나타낸다. 파일 유형의 종류를 알릴 수 있는 방법으로는 확장자를 이용하는 것이다.
    - 실행 파일: `exe, com, bin`
    - 목적 파일: `obj, o`
    - 소스 코드 파일: `c, cpp, cc, java, asm, py`
    - 워드 프로세서 파일: `xml, rtf, doc, docx`
    - 라이브러리 파일: `lib, a, so, dll`
    - 멀티미디어 파일: `mpeg, mov, mp3, mp4, avi`
    - 백업/보관 파일: `rar, zip, tar`

### 파일 연산을 위한 시스템 호출

- 파일을 다루는 모든 것은 운영체제에 의해서 이뤄진다. 운영체제는 `파일 생성, 파일 삭제, 파일 열기, 파일 닫기, 파일 읽기, 파일 쓰기`와 같은 파일 연산을 위한 시스템 호출을 제공한다.

## 디렉터리(directory)

- 디렉터리는 파일을 관리하기 위한 것이다.
- 옛날에는 모든 파일이 하나의 디렉터리 아래에 있었다. 그리고 이것을 디렉터리 구조를 1 단계 디렉터리(single level directory)라고 한다.

  ![Untitled8](https://github.com/choidoorim/programing-books/assets/63203480/b89c644f-fe47-45f7-9f64-2415e49a77f0)

- 1 단계 디렉터리로는 많은 파일을 관리하기 힘들기 때문에 여러 계층을 가진 트리 구조 디렉터리(tree-structured directory)가 생기게 되었다.

  ![Untitled9](https://github.com/choidoorim/programing-books/assets/63203480/1c85218b-b5fd-477f-98d5-9add22f1f5b1)

- 최상위 디렉터리가 있고 아래에 여러 서브 디렉터리가 있다. 최상위 디렉터리는 루트 디렉터리라고 부르고 슬래시(/)로 표현한다. 그리고 이로 인해 경로라는 개념이 생겨났다.

### 절대 경로와 상대 경로

- 모든 파일은 **루트 디렉터리부터 자기 자신까지 이르는 고유한 경로**를 가지고 있고 이것을 절대 경로(absolute path)라고 한다.
- 경로를 나타내는 또 다른 방식이 상대 경로(relative path)가 있다. 상대 경로는 **현재 디렉터리부터 시작하는 경로**이다.

### 디렉터리 연산을 위한 시스템 호출

- 운영체제는 디렉터리 연산을 위한 시스템 호출도 제공한다. 디렉터리 연산으로는 생성, 삭제, 열기, 닫기, 읽기가 있다.

### 디렉터리 엔트리

- 파일과 디렉터리를 다른 것이라고 생각할 수 있지만, 사실 디렉터리는 포함된 정보가 조금 특별한 형태의 파일이다.
- 디렉터리는 보조기억장치에 테이블 형태의 정보로 저장된다.
- 디렉터리 엔트리에는 포함된 대상의 이름과 보조기억장치 내에 저장된 위치를 유추할 수 있는 정보가 담긴다.
- 각각의 디렉터리는 디렉터리 테이블을 가지고 있다. 아래는 D1 디렉터리 테이블이다.
