# 7-2. RAID 의 정의와 종류

## RAID(Redundant Array of Independent Disks) 의 정의

- 하드디스크, SSD 에서 사용하는 기술로 데이터의 안전성, 높은 성능을 위해 **여러 개의 물리적 보조기억장치를 하나의 논리적 보조기억장치처럼 사용**하는 기술이다.

## RAID 의 종류

- RAID 구성 방법을 RAID 레벨이라고 표현한다. RAID0 ~ RAID6 이 있고, 그로부터 파생된 RAID 10, RAID 50 이 있다.
- RAID 를 여러 개 혼합해서 사용하는 경우도 있는데 이것을 Nested RAID 라고 한다.

### RAID0

- 여러 개의 보조기억장치에 데이터를 단순히 나누어 저장하는 구성방식이다. 저장되는 데이터가 하드 디스크 개수만큼 나뉘어 저장되는 것이다.

  ![Untitled](https://github.com/choidoorim/TIL/assets/63203480/8ce888dc-01eb-456f-b940-abafad62abd3)

- 줄무늬 처럼 분산되어 저장된 **데이터를 스트라입(stripte)**이라고 한다. 그리고 분산하여 **저장하는 것을 스트라이핑(striping)** 이라고 한다.
- 스트라이핑되면 저장된 데이터를 읽고 쓰는 속도가 빨라진다. 만약 하나의 대용량 저장 장치만을 이용한다면 여러 번 데이터 읽기/쓰기를 해야하지만 스트라이핑되면 **동시에 읽고 쓸 수 있다.**
- RAID0 은 저장된 데이터가 안전하지 못하다는 단점이 있다. 만약 여러 하드디스크 중에 하나에 문제가 생길 경우 다른 모든 하드 디스크의 정보를 읽는데 문제가 생길 수 있다. 이 문제를 해결하기 위한 것인 RAID 1 이다.

  ![Untitled 1](https://github.com/choidoorim/TIL/assets/63203480/3c9001e9-b3f5-4065-91c2-8245a1169106)

### RAID1

- RAID1 은 복사본을 만드는 방식이다. RAID0 과 같이 스트라이핑이 사용되지만 거울과 같이 하나의 하드 디스크와 동일한 내용을 저장하고 있는 하드디스크가 필요하다. 따라서 4개의 하드 디스크가 있다면 2개는 원본, 2개는 복사본 용도로 사용하는 것이다. 따라서 쓰기 속도는 RAID 0 보다 느리다.

  ![Untitled 2](https://github.com/choidoorim/TIL/assets/63203480/10a87c5e-6e8a-413c-a4f7-a3133390b760)

- 데이터 복구가 매우 간단하다는 장점이 있다. 하지만 하드 디스크의 개수가 한정되어 있을 때 사용 가능한 용량이 적어진다는 단점이 있다. 결국 비교적 많은 양의 하드 디스크가 필요하게 되고, 그에 따른 비용이 증가한다는 단점으로 이어진다.

### RAID4

- 완전한 복사본을 만드는 대신 오류를 검출하고 복구하기 위한 정보를 저장한 장치를 두는 구성 방식이다. 오류를 검출하고 복구하기 위한 정보를 패리티 비트(parity bit) 라고 한다.

  ![Untitled](https://github.com/choidoorim/TIL/assets/63203480/db4f7b4c-9c94-4472-8c25-0e006d56f310)

- 패리티를 저장한 장치를 이용해서 다른 장치들의 오류를 검출하고, 오류가 있다면 복구한다. RAID1 보다 적은 하드 디스크로도 데이터를 안전하게 보관할 수 있게 된다. 기존 패리티 비트는 오류를 검출만 가능하지만, **RAID 에서는 패리티 값으로 오류 수정도 가능**하다.

### RAID5

- RAID4 에서는 어떤 새로운 데이터가 저장될 때마다 패리티를 저장하는 디스크에도 데이터를 쓰게되어 **패리티를 저장하는 장치에 병목이 발생**한다는 문제가 있다.
- RAID5 는 **패리티 정보를 분산하여 저장하는 방식**으로 병목 현상을 해소한다.

  ![Untitled 1](https://github.com/choidoorim/TIL/assets/63203480/71554ce2-e54c-4dfb-b232-294494d22329)

### RAID6

- 구성은 RAID5 와 같지만 서로 다른 2 개의 패리티를 두는 방식이다. 즉, 오류를 검출하고 복구할 수 있는 수단이 2 개가 생긴 것이다.

  ![Untitled 3](https://github.com/choidoorim/TIL/assets/63203480/18f6f866-2136-48d5-a339-8a4ae4f7ccaa)

- 새로운 정보를 저장할 때마다 함께 저장할 패리티가 2 개이므로, 쓰기 속도는 RAID5 보다 느리다. RAID 6 는 **데이터 저장 속도를 조금 희생하더라도 데이터를 안전하게 보관하고 싶을 때 사용하는 방식**이다.
