# 7-1. 다양한 보조기억 장치

- 하드디스크, 플래시 메모리(USB 메모리, SD 카드, SSD 등)

## 하드디스크

- 하드디스크는 자기적인(magnetic) 방식으로 데이터를 저장하는 보조기억장치이다.

  ![Untitled](https://github.com/choidoorim/TIL/assets/63203480/afae9a09-da01-46c4-a0f7-d1d2688e8b40)

- 데이터가 저장되는 곳은 동그란 원판으로 플래터(platter) 라고 한다. 플래터는 자기 물질로 덮여있어서 많은 N 극과 S 극을 저장하고 N 과 S 극은 0과 1의 역할을 수행한다.
- 플래터를 회전시키는 것을 스핀들(spindle) 이라고 한다.
- 스핀들이 플래터를 돌리는 속도는 분당 회전수를 나타내는 RPM(Revolution Per Minute) 라는 단위로 표현된다.
- 플래터의 데이터를 읽고 쓰는 것은 헤드(head)이다.
- 헤드는 헤드를 원하는 위치로 헤드를 이동시키는 디스크 암(disk arm)에 부착되어 있다.
- 플래터에는 트랙(track)과 섹터(sector)라는 단위로 데이터가 저장된다. 플래터를 여러 동심원으로 나눴을 때 하나의 원을 트랙이라 하고, 트랙을 여러 조각으로 나누는데 이 한 조각을 섹터라고 한다. 여러 개의 플래터 상에 같은 트랙이 위치한 곳을 모아 연결한 논리적 단위를 실린더(cylinder)라고 한다. 연속된 데이터들은 한 실린더에 기록된다.
    - 실린더에 연속된 정보를 기록하는 이유는 디스트 암을 움직이지 않고 바로 데이터에 접근할 수 있기 때문이다.

  ![Untitled](https://github.com/choidoorim/TIL/assets/63203480/065881dd-eebc-4599-8d5a-354589685e29)

- 하드 디스크가 저장된 데이터에 접근하는 시간은 탐색 시간, 회전 지연, 전송 시간으로 나뉜다. 즉, 하드디스크에서 데이터를 찾기 위해서는 데이터가 위치하는 트랙까지 이동하고, 플래터를 회전시킨다.
    - 탐색 시간: 접근하려는 데이터가 저장된 **트랙까지 헤드를 이동**시키는 시간
    - 회전 지연: 헤드가 있는 곳으로 **플래터를 회전**시키는 시간
    - 전송 시간: 하드 디스크와 컴퓨터 간에 **데이터를 전송**하는 시간
- 플래터의 한 면당 헤드가 하나씩 달려 있는 하드 디스크를 단일 헤드 디스크(이동 헤드 디스크)라고 하고, 트랙별로 여러 개 달려 있는 하드 디스크를 다중 헤드 디스크(고정 헤드 디스크)라고 한다. 다중 헤드 디스크는 트랙까지 헤드를 이동시킬 필요가 없기 때문에 탐색 시간이 들지 않는다.

  ![Untitled 1](https://github.com/choidoorim/TIL/assets/63203480/7be02e20-9e07-48a0-8a88-ac0ceb1ec02d)

## 플래시 메모리

- 플래시 메모리는 **전기적으로 데이터를 읽고 쓸 수 있는 반도체 기반의 저장 장치**이다. 그리고 어떤 연산을 하는 회로기반으로 만들어진 저장장치인지에 따라 NOR 플래시 메모리와 NAND 플래시 메모리로 나뉜다. 대용량 저장 장치로 많이 사용되는 메모리는 NAND 플래시 메모리이다.
- 플래시 메모리에서 셀(cell) 이라는 데이터를 저장하는 가장 작은 단위가 있다. 하나의 셀에 몇 비트를 저장할 수 있는지에 따라 SLC(Single Level Cell), MLC(Multiple Level Cell), TLC(Triple Level Cell) 등 종류가 나뉜다.

  ![Untitled 1](https://github.com/choidoorim/TIL/assets/63203480/4dae21eb-6247-44d5-8f31-457d79ca267b)

- 모든 저장장치에는 수명이 존재한다. 셀도 일정 횟수 이상 데이터를 쓰고 지운다면 더 이상 데이터를 저장할 수 없게 된다.
- 셀들이 모여 만들어진 단위를 페이지(page), 페이지가 모여 만들어진 단위를 블록(block) 이라고 한다. 블록이 모여 플레인(plane), 플레인이 모여 다이(die)가 된다.

  ![Untitled 2](https://github.com/choidoorim/TIL/assets/63203480/b239d752-6505-4f3f-8ad4-d1ec0b95ffba)

- 플래시 메모리의 읽기, 쓰기는 페이지 단위로 이뤄진다. 반면에 삭제는 블록 단위로 이뤄진다. 플레시 메모리는 읽기, 쓰기 단위와 삭제 단위가 다르다는 큰 특징이 있다.
- 페이지는 Free, Valid, Invalid 상태를 가질 수 있다. 플래시 메모리는 하드 디스크처럼 덮어쓰기가 안되기 때문에 Valid 상태의 페이지에는 새 데이터를 저장할 수 없다.
    - Free 상태: 어떠한 데이터도 저장하고 있지 않아 새로운 데이터를 저장할 수 있는 상태
    - Valid 상태: 이미 유효한 데이터를 저장하고 있는 상태
    - Invalid 상태: 쓰레기 값이라 부르는 유효하지 않은 데이터를 저장하고 있는 상태
- 플래시 메모리는 덮어쓰기가 안되기 때문에 데이터를 수정하게 되면 새로운 페이지에 수정된 데이터가 저장되게 된다. 수정 전 저장되어 있는 데이터는 Invalid 상태가 된다. Invalid 상태가 되면 **사용하지 않는 공간을 차지만 하고 있는 상태이기에 용량 낭비가 발생**한다. 그렇기에 수정 전 페이지만 삭제할 수 없다. 왜냐하면 플래시 메모리의 삭제는 블록 단위이기 때문이다. 그렇기 때문에 **쓰레기 값을 정리하기 위한 가비지 컬렉션(Garbage Collection)** 기능을 제공한다. **유효한 페이지들만 새로운 블록으로 복사한 뒤, 기존 블록을 삭제하는 기능**이다.

### SLC 타입

- 한 셀로 2개의 정보를 표현할 수 있다.
- MLC, TLC 타입에 비해 비트의 빠른 입출력이 가능하다. 수명도 다른 타입에 비해 길지만, 용량 대비 가격이 높다.
- 보통 기업에서 높은 성능이 필요할 때 사용한다.

### MLC

- 한 셀로 4개의 정보를 표현할 수 있다.
- 속도와 수명은 SLC 에 비해 떨어지지만, 한 셀에 2비트씩 저장할 수 있기에 SLC 타입보다 대용화하기 유리하다.
- 시중에서 사용되는 많은 플래시 메모리 저장 장치들이 MLC 타입으로 만들어진다.

### TLC

- 한 셀로 8개의 정보를 표현할 수 있다.
- 용량 대비 가격이 저렴하다.
