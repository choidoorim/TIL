# lesson13. MAC 주소의 구조

## 1. MAC 주소란?

- 랜 카드는 0과 1 신호를 전기신호로 변환하는 역할을 수행한다. 이러한 **랜 카드에는 MAC 주소라는 번호가 정해져 있다**. 제조 시에 정해지기 때문에 물리주소라고 하기도 하는데, **전 세계에서 유일한 번호로 할당**된다.
- **MAC 주소는 48비트 숫자**로 구성되어 있다. 앞에 24비트는 제조사 일련번호이면 뒤에 24비트는 제조사가 랜카드에 붙인 일련번호이다.
- OSI 모델에서는 데이터 링크 계층, TCP/IP 모델에서는 네트워크 계층에서 이더넷 헤더와 트레일러를 붙인다. 이더넷 헤더는 **목적지의 MAC 주소(6byte), 출발지의 MAC 주소(6byte), 유형(2byte)** 로 이뤄져있다.

  ![Untitled3](https://user-images.githubusercontent.com/63203480/236372126-559cc386-8edd-4b5c-8323-d08e373d86e0.png)

- 유형은 이더넷으로 전송되는 상위 계층 프로토콜의 종류를 나타낸다. 유형에는 프로토콜 종류를 식별하는 번호가 들어가 있다.
    - 유형번호(프로토콜): 0800(IPv4), 0806(ARP), 8035(RARP), 814C(SNMP over Ethernet), 86DD(IPv6)
- 헤더 외에 데이터에 추가하는 것을 트레일러라고 하는데, FCS(Frame Check Sequence) 라고 하기도 한다. **데이터 전송 도중에 오류가 발생하는지 확인**하는 용도로 사용된다.
- **이더넷 헤더와 트레일러가 추가된 데이터를 프레임(Frame)** 이라고 한다. 네트워크를 통해 프레임이 전송된다.
- 데이터 링크 계층에서 데이터에 이더넷 헤더와 트레일러를 추가하여 프레임을 만들고(캡슐화), 물리 계층에서 프레임 비트를 전기신호로 변환하여 네트워크를 통해 전송한다.
- 허브는 데이터를 연결된 모든 컴퓨터에 보내지만, 받는 컴퓨터에서 목적지의 MAC 주소가 자신의 MAC 주소와 다르면 데이터를 파기한다. 만약 목적지 MAC 주소가 일치한다면 역캡슐화를 한다.
- 만약 두 개의 컴퓨터의 동시에 한 컴퓨터에게 데이터를 전송한다면 이때 CSMA/CD 방식이 사용된다. 충돌이 감지된다면 데이터를 전송하는 두 개의 컴퓨터 중 하나의 컴퓨터에서 잠시 대기 후 데이터를 재전송한다.
