# lesson21. 서브넷 구조

## 1. 서브넷이란?

- A 클래스 네트워크는 호스트 ID 가 24비트이기 때문에 IP 주소를 1677만 7214개 사용할 수 있다. 즉, 이 많은 IP 주소를 하나의 네트워크로 사용하는 것이다. 만약 많은 컴퓨터가 A 클래스 네트워크에서 브로드캐스트 패킷을 전송하면 모든 컴퓨터에 패킷이 전송되고 네트워크가 혼잡해지고, 트래픽이 증가될 것이다.
- A 클래스의 대규모 네트워크를 **작은 네트워크로 분할하여 브로드캐스트로 전송되는 패킷의 범위를 좁혀서** IP 주소를 더 효과적으로 활용할 수 있다.
    - 하나의 네트워크에 16,777,214(2^24) 개의 호스트 IP 를 부여할 수 있는 A 클래스 네트워크가 4개의 장치만을 사용하는 가정집에 부여된다면 네트워크 주소와 브로드캐스트 주소를 포함하여 총 6개의 주소를 제외한 나머지 16,777,208 개는 사용되지 않고 낭비된다. 이런 문제를 해결하기 위해서 IP 주소를 효율적으로 활용할 수 있는 서브넷이 등장하게 되었다.
- **네트워크를 분할하는 것을 서브넷팅**이라고 하고, **분할된 네트워크를 서브넷**이라고 한다. 서브넷팅을 할 때는 **호스트 ID 를 네트워크 ID 로 변환**한다.

  ![Untitled2](https://user-images.githubusercontent.com/63203480/236670393-a1976bbb-7569-4278-9b53-604df177d887.png)

  ![Untitled1](https://user-images.githubusercontent.com/63203480/236670366-b12812b5-7d61-4907-b190-8c3585ea189d.jpeg)

- A 클래스를 서브넷팅하면 `네트워크 ID + 호스트 ID` 로 이뤄진 IP 주소가 `네트워크 ID(+ 서브넷 ID) + 호스트 ID` 로 나눠진다. 원래 **호스트 ID 였던 비트를 빌려서 서브넷 ID** 로 만든다. IP 주소의 네트워크 부분을 늘리기 위해서 서브넷 ID(or bit)를 사용한다.

## 2. 서브넷 마스크란?

![Untitled3](https://user-images.githubusercontent.com/63203480/236670416-c9df25f6-673d-4e68-bf48-f34ffc204b71.gif)

- IP 주소의 네트워크 ID 만 나타나게 하여 같은 네트워크인지 판별하게 하는 마스크이다.
- IP 주소를 서브넷팅하면 어디까지가 네트워크 ID이고, 어디부터가 호스트 ID 인지 구분하기 힘들기 때문에 **서브넷 마스크라는 값을 이용해서 네트워크 ID 와 호스트 ID 를 식별**한다.
- **프리픽스 표기법은 서브넷 마스크를 슬래시(`/비트수`)** 로 나타낸다. 예를 들어 `255.255.255.0` 은 `/24` 가 된다. 프리픽스 표기법을 사용하면 서브넷 마스크를 표기할 때 숫자로 간편하게 표현할 수 있으며, 서브넷 마스크가 변경될 때 IP 주소를 다시 계산할 필요 없이 프리픽스 값을 변경하기만 하면 되므로 유연성과 확장성이 좋다.
- C 클래스의 IP 주소를 서브넷팅한다고 했을 때 **네트워크 ID는 24bit, 서브넷 ID 는 4bit,  호스트 ID 는 4bit** 가 될 수 있다. 이렇게 서브넷팅을 통해 여러 네트워크를 만들수 있다. **네트워크 ID 24bit, 서브넷 ID 4bit,  호스트 ID 4bit** 네트워크의 서브넷 마스크는 `255.255.255.240` 인데 네트워크 ID + 서브넷 ID 가 28bit 이기 때문에 프리픽스 표기법은 `/28` 이 된다.
- 클래스별 기본 서브넷 마스크는 아래 사진과 같다.
  ![Untitled4](https://user-images.githubusercontent.com/63203480/236670899-08e761ee-322f-44dc-9e96-0932034f3c6e.png)
