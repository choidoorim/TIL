# 2. 프로토타입 체인

## 1.  메서드 오버라이드

`__proto__` 를 생략하면 인스턴스는 prototype 에 정의된 메서드나 함수를 자신의 것처럼 사용할 수 있다. 그런데 만약 인스턴스가 동일한 이름에 프로퍼티나 메서드를 가지고 있다면 어떻게 될까?

```jsx
let Person = function (name) {
  this.name = name;
};

Person.prototype.getName = function () {
  return this.name;
};

let iu = new Person('지금');
iu.getName = function () {
  return '바로 ' + this.name;
};
console.log(iu.getName()); // 바로 지금
```

`iu.__proto__.getName` 메서드가 아닌, `iu.getName` 메서드가 출력되었다. 이런 현상을 메서드 오버라이드라고 한다. 원본을 제거한 것이 아니라, 그래도 있는 상태에서 다른 대상을 그 위에 얹는 것과 같다.

자바스크립트 엔진이 `getName` 을 찾는 과정은 자신과 가장 가까운 프로퍼티를 검색하고 없다면 그 다음 가까운 대상이 `__proto__` 를 검색하는 순서로 찾는다.

메서드 오버라이딩이 된 상태에서 prototype 에 있는 메서드에 접근하기 위해서는 this 가 prototype 을 바라보는 것이 아니라 인스턴스를 바라볼 수 있도록 바꾸면 된다.

```jsx
let Person = function (name) {
  this.name = name;
};

Person.prototype.getName = function () {
  return this.name;
};

let iu = new Person('지금');
iu.getName = function () {
  return '바로 ' + this.name;
};
console.log(iu.__proto__.getName.call(iu)); // 지금
```

메서드 오버라이드가 된 경우에 자신으로부터 가장 가까운 메서드에만 접근할 수 있지만, 그 다음으로 가까운 `__proto__` 의 메서드로 우회하여 접근하는 방법도 있다.

## 2. 프로토타입 체인
